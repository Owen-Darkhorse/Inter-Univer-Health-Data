waves = X.train$Wave,
corstr = "independence"
)
bestSmry <- summary(bestFit)
bestSmry
bestCov <- vcov(bestFit)
bestQIC <- QIC(bestFit)
bestQIC
###### Confidence Interval for occupation-specific #############################
occEffectIdx <- startsWith(rownames(bestSmry$coefficients), "RwJOCCSD")
occEffectEst <- bestSmry$coefficients[occEffectIdx, "Estimate"]
occEffectSD <- diag(bestCov)[occEffectIdx] %>% sqrt()
occEffectNames <- c("Farming/Forestry/Fishing", "Food/Personal Service",
"Healthcare","High Risk Occupations",
"Management/Clerical/Business","Sales",
"Skilled Trades/Production/Manual",
"STEM/Professional/Technical")
linearCI_low <- occEffectEst - 1.96 * occEffectSD
linearCI_up <- occEffectEst + 1.96 * occEffectSD
occEffectCI <- cbind(linearCI_low, occEffectEst, linearCI_up) %>% exp()
colnames(occEffectCI) <- c("Low", "Estimate", "High")
occEffectCI <- as.data.frame(occEffectCI)
occEffectCI$Occupation <- occEffectNames
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Forest Plot of Average Occupation Effects on Recall"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 1),
plot.title = element_text(hjust = 0.5, size = 15)
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = "n"
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = -1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = -0.1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 0.1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 0.5),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 2),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 1.2),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 1.2, vjust = 0.5),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 1.2, vjust = -0.5),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 1.2, vjust = 0.5),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 1.2, vjust = -0.8),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 1.2, vjust = -1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(hjust = 1.2, vjust = -1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(hjust = 1.2),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(hjust = 1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(hjust = 1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(hjust = 2),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Occupation-specific Recall Scores / Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(hjust = 1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
###### Confidence Interval: any occupation-specific rate change ############
interacFit <- update(bestFit, y~.+RwAGEM_B:RwJOCCSD)
###### Confidence Interval: any occupation-specific rate change ############
interacFit <- update(bestFit, RwTR20~.+RwAGEM_B:RwJOCCSD)
interacSmry <- summary(interacFit)
interacCov <- vcov(interacFit)
occInteracIdx <- startsWith(rownames(interacSmry$coefficients), "RwAGEM_B:RwJOCCSD")
occInteracEst <- interacSmry$coefficients[occInteracIdx, "Estimate"]
occInteracSD <- diag(interacCov)[occInteracIdx] %>% sqrt()
occInteracNames <- c("Farming/Forestry/Fishing", "Food/Personal Service", "Healthcare",
"High Risk Occupations", "Management/Clerical/Business",
"Sales", "Skilled Trades/Production/Manual", "STEM/Professional/Technical")
linearCI_low <- occInteracEst - 1.96 * occInteracSD
linearCI_up <- occInteracEst + 1.96 * occInteracSD
occInteracCI <- cbind(linearCI_low, occInteracEst, linearCI_up) %>% exp()
colnames(occInteracCI) <- c("Low", "Estimate", "High")
occInteracCI <- as.data.frame(occInteracCI)
occInteracCI$Occupation <- occInteracNames
ggplot(occInteracCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.3f (%.3f, %.3f)", Estimate, Low, High)),
x = 0.95, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.05), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Forest Plot of Time Effect of Occupation on Recall"
) +
coord_cartesian(xlim = c(0.95, 1.025)) +
theme(
axis.text.y = element_text(angle = 30, hjust = 1),
plot.title = element_text(hjust = 0.5)
)
ggplot(occInteracCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.3f (%.3f, %.3f)", Estimate, Low, High)),
x = 0.95, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.05), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Forest Plot of Time Effect of Occupation on Recall"
) +
coord_cartesian(xlim = c(0.95, 1.025)) +
theme(
axis.text.y = element_blank(),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
ggplot(occInteracCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.3f (%.3f, %.3f)", Estimate, Low, High)),
x = 0.95, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.05), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Annual Recall Scores Change, Occupation-specific/Retirement"
) +
coord_cartesian(xlim = c(0.95, 1.025)) +
theme(
axis.text.y = element_blank(),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
ggplot(occInteracCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.3f (%.3f, %.3f)", Estimate, Low, High)),
x = 0.95, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.05), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Annual Recall Scores Change, Occupation-specific vs Retirement"
) +
coord_cartesian(xlim = c(0.95, 1.025)) +
theme(
axis.text.y = element_blank(),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
# Forest plot
ggplot(occEffectCI, aes(x = Estimate, y = Occupation)) +
geom_point(size = 3, color = "#0072B2") +
geom_errorbarh(aes(xmin = Low, xmax = High), height = 0.2, color = "#0072B2") +
geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
geom_text(aes(label = sprintf("%.2f (%.2f, %.2f)", Estimate, Low, High)),
x = 0.9, hjust = 0, size = 3.5) +
scale_x_continuous(limits = c(0.98, 1.12), expand = expansion(mult = c(0, 0.1))) +
labs(
x = "Effect Estimate (95% CI)",
y = "Occupation Group",
title = "Recall Scores Ratios, Occupation-specific vs Retirement Recall Scores"
) +
coord_cartesian(xlim = c(0.9, 1.15)) +
theme(
axis.text.y = element_text(hjust = 1),
plot.title = element_text(hjust = 0.5, size = 15),
axis.title.y = element_blank()
)
bestSmry
occEffectCI
